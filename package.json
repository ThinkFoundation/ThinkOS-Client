{
  "name": "think",
  "private": true,
  "scripts": {
    "app": "pnpm --filter think-app dev",
    "ext": "pnpm --filter think-extension build",
    "backend": "cd backend && poetry run uvicorn app.main:app --reload --port 8765",
    "build:backend": "export CODESIGN_IDENTITY=\"${CODESIGN_IDENTITY:-$(grep '^CODESIGN_IDENTITY=' .env.local 2>/dev/null | cut -d= -f2-)}\"; cd backend && poetry run pyinstaller think.spec --clean && [ -n \"$CODESIGN_IDENTITY\" ] && find dist/think-backend \\( -name '*.dylib' -o -name '*.so' \\) -exec codesign --force --sign \"$CODESIGN_IDENTITY\" --timestamp --options runtime {} \\; || echo 'Skipping dylib signing (CODESIGN_IDENTITY not set)'",
    "build:stub": "cd backend/native_host && clang -O2 -o think-native-stub stub_launcher.c && codesign --sign - --force think-native-stub",
    "build:app": "pnpm --filter think-app build && pnpm --filter think-app electron:build",
    "build:app:release": "pnpm --filter think-app build && pnpm --filter think-app electron:build:release",
    "build:all": "pnpm build:stub && pnpm build:backend && pnpm build:app",
    "build:all:release": "pnpm build:stub && pnpm build:backend && pnpm build:app:release",
    "changeset": "changeset",
    "version": "changeset version && node scripts/sync-versions.js",
    "release": "pnpm version && git add -A",
    "prepare": "husky"
  },
  "devDependencies": {
    "@changesets/cli": "^2.29.8",
    "@commitlint/cli": "^20.2.0",
    "@commitlint/config-conventional": "^20.2.0",
    "husky": "^9.1.7"
  }
}
